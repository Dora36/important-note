<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>获取服务器时间</title>
  <style type="text/css">
  </style>
</head>
<body>
  <p id="time"></p>

  <script type="text/javascript">



    function serversDate(){
      var xhr = null;
      if(window.XMLHttpRequest){
        xhr = new window.XMLHttpRequest();
      }else{ // ie
        xhr = new ActiveObject("Microsoft");
      }
      // 通过get的方式请求当前文件
      xhr.open("head","/",false);
      xhr.send(null);
      // 监听请求状态变化
      // xhr.onreadystatechange = function(){
        var time = null,
            curDate = null;
        // if(xhr.readyState===2){
          // 获取响应头里的时间戳
          time = xhr.getResponseHeader("Date");
          console.log(xhr.getAllResponseHeaders());
          curDate = new Date(time);
          document.getElementById("time").innerHTML = "服务器时间是："+curDate.getFullYear()+"-"+(curDate.getMonth()+1)+"-"+curDate.getDate()+" "+curDate.getHours()+":"+curDate.getMinutes()+":"+curDate.getSeconds();
        // }
      }
    // }

    serversDate();


  </script>
</body>
</html>
