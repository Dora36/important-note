## 简介

### 用处

- 服务器：小型后台系统，大型项目的中间层
- 工具应用：测试，构建（grunt、gulp、webpack...），数据抓取

### 三大特性

- 单线程、单进程
- 非阻塞 IO 异步交互
- 事件循环机制

## 系统模块

### 数据交互类

- `HTTP` / `HTTPS`：用于处理请求及发送请求。
- `fs`：是处理与文件有关的相关操作的，读、写、删、创建等。
- `stream`：流处理
- `crypto`：crypto 模块提供了加密功能，包括对 OpenSSL 的哈希、HMAC、加密、解密、签名、以及验证功能的一整套封装。
- `zlib`：压缩

### 工具类

- `assert`：提供了一组简单的断言测试，可用于测试不变量。
- `querystring`：提供用于解析和格式化 URL 查询字符串的实用工具。
- `url`：该模块可以用 URL 构造函数代替。
- `os`：提供了与操作系统相关的实用方法和属性。
- `dns`：用于启用名称解析。例如，使用它来查找主机名的 IP 地址。
- `path`：提供了一些用于处理文件与目录的路径的实用工具。

## global 全局变量

### 模块作用域的全局变量

- `__dirname`：当前模块的目录名。与 `path.dirname(__filename)` 相同。

- `__filename`：当前模块的文件名。这是当前的模块文件的绝对路径（符号链接会被解析）。

- `module`：对当前模块的引用，`module.exports` 用于指定一个模块所导出的内容，即可以通过 `require()` 访问的内容。

- `exports`：这是一个对于 `module.exports` 的更简短的引用形式。

- `require()`：用于引入模块、JSON、或本地文件。路径会根据 `__dirname` 定义的目录名或当前工作目录进行处理。

### 全局可访问的内置对象

- `Buffer`：用于处理二进制数据。

- `global`：是个对象，全局的命名空间对象。

- `URL`：URL 构造函数。

- `process`：进程对象。

## web 服务器

### 主要功能

- 解析 `get` 发送的数据，传输内容在 `url` 里面，大小较小，< 32K。
- 解析 `post` 发送的普通数据或者文件数据，传输内容在 `body` 中，空间较大，< 1G。一个大的数据包会切成很多小包传输。
- 响应静态资源(`fs`)，stream 流，压缩，缓存。
- 操作数据库返回前端需要的数据。

### web 服务的性能

对 cpu 的负载不是最重要的

重要的是 对内存的使用，对 IO 的管理，对网络的使用，这些才是性能的瓶颈。
